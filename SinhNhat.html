<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ch√∫c m·ª´ng sinh nh·∫≠t V∆∞∆°ng B·∫£o H√¢n</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg1:#fff0f6;
  --bg2:#fff6f0;
  --accent:#ff5972;
  --text:#2b2b2b;
  --choco:#4d260f;
  --choco-gloss:#7a4326;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  font-family:'Montserrat';
  overflow:hidden;
  position:relative;
}

/* üíñüíñüíñ HI·ªÜU ·ª®NG H·ªíNG L√ÉNG M·∫†N üíñüíñüíñ */
.pink-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at center,
        rgba(255, 170, 200, 0.35),
        rgba(255, 120, 160, 0.20),
        rgba(255, 90, 140, 0.10),
        transparent 70%);
    pointer-events: none;
    z-index: 1;
}

.romantic-glow {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 40% 30%,
        rgba(255, 150, 200, 0.25),
        rgba(255, 110, 160, 0.15),
        transparent 70%);
    animation: glowPulse 4s ease-in-out infinite alternate;
    pointer-events: none;
    z-index: 2;
}

@keyframes glowPulse {
    0% { opacity: 0.25; }
    100% { opacity: 0.45; }
}
/* üíñ END üíñ */

/* ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è HI·ªÜU ·ª®NG TR√ÅI TIM R∆†I ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è */
.heart {
    position: fixed;
    top: -20px;
    left: 0;
    color: red;
    font-size: 20px;
    pointer-events: none;
    animation: fall linear forwards;
    z-index: 9999;
}

@keyframes fall {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(110vh) scale(0.8); opacity: 0; }
}
/* ‚ù§Ô∏è END ‚ù§Ô∏è */

.wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
.card{
  width:100%;max-width:980px;border-radius:20px;padding:28px 30px;
  background:rgba(255,255,255,0.85);
  box-shadow:0 10px 30px rgba(0,0,0,0.12);
  position:relative;overflow:hidden;
  z-index: 3; /* ƒê·ªÇ TR√äN HI·ªÜU ·ª®NG */
}
.top{display:flex;gap:20px;align-items:center}

.avatar{
  width:110px;
  height:110px;
  border-radius:50%;
  background:url('baohan.jpg') center/cover no-repeat;
  box-shadow:
      0 0 0 4px #ff8fa8,
      0 0 15px 6px rgba(255,120,150,0.55),
      0 0 30px 10px rgba(255,90,120,0.35);
  flex-shrink:0;
}

.title h1{margin:0;font-family:'Playfair Display';font-size:34px}
.title p{margin-top:6px;font-size:15px;color:#5c5c5c}
.message{margin-top:18px;font-size:17px;line-height:1.6}
.message .name{color:var(--accent);font-weight:700}
.scene{
  display:flex;
  gap:30px;
  margin-top:22px;
  justify-content:center;
  align-items:flex-start;
}

.cake{
  flex:0 0 280px;
  background:linear-gradient(180deg,#fff8f4,#ffeef3);
  border-radius:25px;
  padding:0;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,0.25);
  position:relative;
  overflow:hidden;
}

#playMusicBtn{
  cursor:pointer;
  padding:14px 22px;
  border-radius:12px;
  background:linear-gradient(90deg,#ff5972,#ff8aa0);
  color:#fff;
  text-align:center;
  font-weight:600;
  position:relative;
}

/* ‚òÖ‚òÖ‚òÖ MENU NH·∫†C ‚òÖ‚òÖ‚òÖ */
.music-menu {
    position: absolute;
    top: 0;
    left: 105%;
    background: rgba(255,255,255,0.95);
    border-radius: 12px;
    padding: 12px;
    width: 160px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    opacity: 0;
    pointer-events: none;
    transition: 0.25s ease;
    z-index: 500;
}

.music-menu.active {
    opacity: 1;
    pointer-events: auto;
}

.music-menu button {
    width: 100%;
    margin-bottom: 8px;
    padding: 8px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: #ff8aa0;
    color: white;
    font-weight: 600;
}

.music-menu button:last-child {
    background: #ff5972;
}


.next-text{
  text-align:center;font-size:22px;margin-top:20px;
  font-weight:600;color:#ff5972;
  cursor:pointer;
  border:2px solid #ff5972;
  padding:8px 14px;
  border-radius:10px;
  display:inline-block;
}

.right-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}
.right-top {
  display: flex;
  gap: 16px;
  align-items: center;
}

#letterPopup{
  position:fixed;
  top:0;left:0;
  width:100vw;height:100vh;
  background:rgba(0,0,0,0.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.letter-box{
  width:90%;
  max-width:480px;
  background:#ffe6ef;
  border:4px solid #ffb6c9;
  border-radius:18px;
  padding:26px 24px;
  font-size:17px;
  line-height:1.6;
  box-shadow:0 10px 40px rgba(0,0,0,0.25);
  animation: popupShow .4s ease;
}

@keyframes popupShow{
  from{transform:scale(0.7);opacity:0}
  to{transform:scale(1);opacity:1}
}

.letter-footer{
  margin-top:18px;
  display:flex;
  justify-content:space-between;
  font-weight:600;
}
.letter-btn{
  padding:8px 14px;
  border-radius:8px;
  border:2px solid #ff5972;
  color:#ff5972;
  cursor:pointer;
  font-weight:600;
}

.image-container{
  position:fixed;
  top:0; left:0;
  width:100vw;height:100vh;
  display:none;align-items:center;justify-content:flex-start;
  overflow:hidden;z-index:500;pointer-events:none;
}
.image-strip{
  display:flex;
  will-change: transform;
}
.image-strip img{
  height:80vh;flex-shrink:0;
  object-fit:cover;
  border: 5px solid #ff5972;
  border-radius:12px;
  margin:0 5px;
}

#giftBox{
  position:fixed;
  bottom:50px;
  left:50%;
  transform:translateX(-50%);
  width:150px;
  display:none;
  cursor:pointer;
  z-index:1200;
  animation:bounce 1.1s infinite ease-in-out;
}
#giftContent > div {
  max-height: 90vh;
  overflow-y: auto;
}

@keyframes bounce{
  0%,100%{transform:translate(-50%,0)}
  50%{transform:translate(-50%,-25px)}
}
</style>
</head>

<body>
<!-- üéÅ GIFT CONTENT -->
<div id="giftContent" style="
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
">
  <div style="
    width:90%;
    max-width:520px;
    background:#fff0f6;
    border-radius:18px;
    padding:24px;
    text-align:center;
    animation: popupShow .4s ease;
    position:relative;

  ">
<!-- N√öT ƒê√ìNG -->
<div id="closeGift" style="
  position:absolute;
  top:12px;
  right:16px;
  font-size:22px;
  font-weight:700;
  color:#ff5972;
  cursor:pointer;
">
  ‚úï
</div>

    <!-- TEXT STEP -->
    <div id="giftText">
      <div style="font-size:17px;line-height:1.6;">
        B·ªüi v√¨ t√¥i kh√¥ng c√≥ ·∫£nh ƒë·∫πp n√™n ƒë∆∞a n√≠ ·∫£nh d√¨m nh∆∞ng m√† v·∫´n t·∫°m ·ªïn x√≠u v·∫≠y ch·ª© ƒë√£ x·∫•u m√† c√≤n ƒë∆∞a ·∫£nh x·∫•u n·ªØa th√¨ n√≥ k√¨.
      </div>
      <div id="giftNextText" style="
        margin-top:18px;
        color:#ff5972;
        font-weight:600;
        cursor:pointer;
      ">
        Ti·∫øp theo ‚Üí
      </div>
    </div>

    <!-- IMAGE STEP -->
    <div id="giftGallery" style="display:none;">
      <img id="giftImg" src="" style="
  width:100%;
  max-height:55vh;
  object-fit:contain;
  border-radius:12px;
  margin-bottom:10px;
">

      <div id="giftCaption" style="
        font-size:14px;
        color:#555;
        margin-bottom:12px;
      "></div>

      <div style="display:flex;justify-content:space-between;">
        <span id="prevImg" style="cursor:pointer;font-size:20px;">‚¨ÖÔ∏è</span>
        <span id="nextImg" style="cursor:pointer;font-size:20px;">‚û°Ô∏è</span>
      </div>
    </div>

  </div>
</div>

<!-- üíñ HI·ªÜU ·ª®NG H·ªíNG L√ÉNG M·∫†N (v·ª´a th√™m) üíñ -->
<div class="pink-overlay"></div>
<div class="romantic-glow"></div>

<div class="wrap">
  <div class="card">

    <div class="top">
      <div class="avatar"></div>
      <div class="title">
        <h1>Ch√∫c m·ª´ng sinh nh·∫≠t- <span class="name">V∆∞∆°ng B·∫£o H√¢n</span> üéÇ</h1>
        <p>Ng√†y 25 th√°ng 12 ‚Äî m·ªôt ng√†y th·∫≠t ƒë·∫∑c bi·ªát.</p>
      </div>
      <div style="text-align:right">
        <div style="font-size:13px;color:#888">25/12</div>
        <div style="font-size:12px;color:#aaa">Sinh nh·∫≠t</div>
      </div>
    </div>

    <div class="message">
      Ch√∫c m·ª´ng sinh nh·∫≠t n√≠ nha.  
      Tui hy v·ªçng tu·ªïi m·ªõi c·ªßa n√≠ s·∫Ω c√≥ th·∫≠t nhi·ªÅu ni·ªÅm vui, d·ªÖ th∆∞∆°ng v√† √≠t phi·ªÅn mu·ªôn h∆°n.  
      Kh√¥ng bi·∫øt t·ª´ bao gi·ªù, ch·ªâ c·∫ßn nh√¨n th·∫•y t√™n n√≠ hi·ªán l√™n l√† t·ª± nhi√™n trong l√≤ng tui vui h∆°n.
    </div>

    <div class="scene">

      <div class="cake">
          <img src="banhkem.jpg" 
               style="width:100%;height:auto;display:block;border-radius:20px;">
          <div style="padding:12px 0;text-align:center;">
              <div style="font-weight:600">B√°nh kem d√†nh cho ng∆∞·ªùi ƒë·∫πp nh·∫•t h√¥m nay</div>
              <div style="font-size:13px;color:#777;margin-top:6px">Nh·ªõ call tui nhe ‚ú®</div>
          </div>
      </div>

      <div class="right-container">
        <div class="right-top">

          <div id="openLetterBtn" class="card-front" 
               style="
                   width:120px;height:70px;
                   display:flex;align-items:center;justify-content:center;
                   background:linear-gradient(135deg,#ffb6c1,#ff8aa0);
                   color:white;border-radius:16px;font-size:26px;cursor:pointer;
               ">
            üì©
          </div>

          <!-- ‚òÖ‚òÖ‚òÖ N√öT PH√ÅT NH·∫†C + MENU ‚òÖ‚òÖ‚òÖ -->
          <div id="playMusicBtn">
            üéµ Ph√°t nh·∫°c

            <div id="musicMenu" class="music-menu">
              <button onclick="playSong('song1.mp3')">B√†i h√°t 1</button>
              <button onclick="playSong('song2.mp3')">B√†i h√°t 2</button>
              <button onclick="playSong('song3.mp3')">B√†i h√°t 3</button>
              <button onclick="togglePause()" id="pauseBtn">T·∫°m d·ª´ng</button>
            </div>

          </div>
        </div>

        <div class="next-text" id="nextBtn">B√≠ m·∫≠t</div>
      </div>

    </div>

  </div>
</div>

<div id="letterPopup">
  <div class="letter-box">
    <div style="font-size:18px;font-weight:600;">G·ª≠i n√≠,</div>
    <br>
    H√¥m nay l√† m·ªôt ng√†y ƒë·∫∑c bi·ªát ‚Äì ng√†y m√† m·ªôt c√¥ c√¥ng ch√∫a xinh ƒë·∫πp b∆∞·ªõc ƒë·∫øn th·∫ø gi·ªõi n√†y.  
    T·ªõ mong n√≠ s·∫Ω c√≥ th·∫≠t nhi·ªÅu ni·ªÅm vui, nhi·ªÅu ƒëi·ªÅu d·ªÖ th∆∞∆°ng v√† lu√¥n r·ª±c r·ª° gi·ªëng nh∆∞ c√°ch n√≠ xu·∫•t hi·ªán trong cu·ªôc s·ªëng c·ªßa tui v·∫≠y.  
    <br><br>
    Kh√¥ng bi·∫øt t·ª´ l√∫c n√†o, ch·ªâ c·∫ßn n√≥i chuy·ªán v·ªõi n√≠ m·ªôt ch√∫t th√¥i l√† ng√†y c·ªßa tui s√°ng h∆°n h·∫≥n.  
    Sinh nh·∫≠t n√≠, tui kh√¥ng d√°m n√≥i g√¨ l·ªõn lao, ch·ªâ mu·ªën g·ª≠i ch√∫t ƒëi·ªÅu d·ªÖ th∆∞∆°ng n√†y ƒë·∫øn n√≠ ‚Äì mong n√≥ l√†m ng√†y c·ªßa n√≠ ƒë·∫πp th√™m m·ªôt ch√∫t.  
    <br><br>
    Ch√∫c n√≠ tu·ªïi m·ªõi nh·∫π nh√†ng, an y√™n‚Ä¶ v√† n·∫øu ƒë∆∞·ª£c th√¨ b·ªõt l√†m tui ch√∫ √Ω m·ªôt x√≠u, ch·ª© nh∆∞ n√†y ho√†i tui c√†ng nh·ªõ n√≠ m·∫•t.  
    <br><br>
    ‚ú® Ch√∫c n√≠ sinh nh·∫≠t vui v·∫ª nha ‚ú®
    
    <div class="letter-footer">
      <div class="letter-btn" id="closeLetterBtn">Tho√°t</div>
      <div style="color:#ff5972;font-weight:700;">‚Äî Tui</div>
    </div>
  </div>
</div>

<div class="image-container" id="imageContainer">
  <div class="image-strip" id="imageStrip">
    <img src="cmsn1.jpg" />
    <img src="cmsn2.jpg" />
    <img src="cmsn3.jpg" />
    <img src="cmsn4.jpg" />
    <img src="cmsn5.jpg" />
    <img src="cmsn6.jpg" />
  </div>
</div>

<img id="giftBox" src="hopqua.jpg" />

<script>

/* ‚ù§Ô∏è T·∫†O TR√ÅI TIM R∆†I LI√äN T·ª§C ‚ù§Ô∏è */
function spawnHeart(){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent = "‚ù§Ô∏è";

  const size = 14 + Math.random() * 18;
  h.style.fontSize = size + "px";
  h.style.left = Math.random() * 100 + "vw";

  document.body.appendChild(h);

  const duration = 4000 + Math.random() * 3000;

  h.animate([
    { transform:"translateY(0) scale(1)", opacity:0.9 },
    { transform:"translateY(100vh) scale(0.8)", opacity:0 }
  ],{duration:duration,easing:"linear"});

  setTimeout(()=>h.remove(),duration);
}
let heartInterval = setInterval(spawnHeart, 350);
function stopHearts() {
  clearInterval(heartInterval);
  document.querySelectorAll(".heart").forEach(h => h.remove());
}

function startHearts() {
  heartInterval = setInterval(spawnHeart, 350);
}

/* ‚ù§Ô∏è END ‚ù§Ô∏è */


// ===== POPUP TH∆Ø =====
const openLetterBtn=document.getElementById('openLetterBtn');
const letterPopup=document.getElementById('letterPopup');
const closeLetterBtn=document.getElementById('closeLetterBtn');

openLetterBtn.onclick=()=>{ letterPopup.style.display='flex'; };
closeLetterBtn.onclick=()=>{ letterPopup.style.display='none'; };

// ===== ‚òÖ‚òÖ‚òÖ MUSIC MENU LOGIC ‚òÖ‚òÖ‚òÖ =====
let audio = new Audio();
let isPaused = false;

function playSong(src) {
    audio.src = src;
    audio.play();
    isPaused = false;
    document.getElementById("pauseBtn").textContent = "T·∫°m d·ª´ng";
}

function togglePause() {
    if (!isPaused) {
        audio.pause();
        document.getElementById("pauseBtn").textContent = "Ti·∫øp t·ª•c";
    } else {
        audio.play();
        document.getElementById("pauseBtn").textContent = "T·∫°m d·ª´ng";
    }
    isPaused = !isPaused;
}

const playMusicBtn = document.getElementById("playMusicBtn");
const musicMenu = document.getElementById("musicMenu");

playMusicBtn.addEventListener("mouseenter", () => {
    musicMenu.classList.add("active");
});

playMusicBtn.addEventListener("mouseleave", () => {
    setTimeout(() => {
        if (!musicMenu.matches(":hover"))
            musicMenu.classList.remove("active");
    }, 200);
});

musicMenu.addEventListener("mouseleave", () => {
    musicMenu.classList.remove("active");
});

// ===== ·∫¢NH CH·∫†Y =====
const nextBtn=document.getElementById('nextBtn');
const strip=document.getElementById('imageStrip');
const container=document.getElementById('imageContainer');
const giftBox = document.getElementById('giftBox');

nextBtn.onclick = () => {
  stopHearts(); // ‚õî t·∫°m d·ª´ng tim r∆°i

  container.style.display = 'flex';
  const duration = 7000;

  strip.animate([
    { transform: `translateX(${window.innerWidth}px)` },
    { transform: `translateX(-${strip.scrollWidth}px)` }
  ], { duration: duration, easing: 'linear', fill: 'forwards' })
  .onfinish = () => {
      giftBox.style.display = "block";
  };
};

// ===== CLICK H·ªòP QU√Ä =====
giftBox.onclick = () => {
    giftBox.style.animation = "none";
    giftBox.animate([
        { transform: "translateX(-50%) scale(1)", opacity: 1 },
        { transform: "translateX(-50%) scale(1.25)", opacity: 0 }
    ], { duration: 550, easing: "ease-out" }).onfinish = () => {
        giftBox.style.display = "none";
        document.getElementById("giftContent").style.display = "flex";
    };
};
const images = [
  { src: "anhdim1.jpg", cap: "B·ª©c n√†y l√† nƒÉm t√¥i v·ª´a v√†o l·ªõp 10" },
  { src: "anhdim2.jpg", cap: "B·ª©c 1 v√† b·ª©c 2 n√†y l√† tui b·ªã ch·ª•p l√©n" },
  { src: "anhdim3.jpg", cap: "4 ·∫£nh d√¨m th√¨ c≈©ng ph·∫£i cho 1 b·ª©c t·ª± ch·ª•p bth m√† ƒë√∫g hog" },
  { src: "anhdim4.jpg", cap: "B·ª©c n√†y l√† ƒë·∫ßu nƒÉm 12 v√¥ h·ªçc b·ªã ch·ª•p l√©n" },
  { src: "anhdim5.jpg", cap: "B·ª©c n√†y l√† nƒÉm tui l·ªõp 6 " }
];


let currentIndex = 0;

const giftText = document.getElementById("giftText");
const giftGallery = document.getElementById("giftGallery");
const giftImg = document.getElementById("giftImg");
const giftCaption = document.getElementById("giftCaption");

document.getElementById("giftNextText").onclick = () => {
  giftText.style.display = "none";
  giftGallery.style.display = "block";
  showImage(0);
};

function showImage(i) {
  currentIndex = (i + images.length) % images.length;
  giftImg.src = images[currentIndex].src;
  giftCaption.textContent = images[currentIndex].cap;

  // reset m·∫∑c ƒë·ªãnh
  giftImg.style.maxWidth = "100%";

  // n·∫øu l√† ·∫£nh s·ªë 5 (index = 4) th√¨ cho r·ªông h∆°n ch√∫t
  if (currentIndex === 4) {
    giftImg.style.maxWidth = "120%";
  }
}


document.getElementById("prevImg").onclick = () => showImage(currentIndex - 1);
document.getElementById("nextImg").onclick = () => showImage(currentIndex + 1);
document.getElementById("closeGift").onclick = () => {
  document.getElementById("giftContent").style.display = "none";

  startHearts(); // ‚ù§Ô∏è b·∫≠t l·∫°i hi·ªáu ·ª©ng tim r∆°i

  // reset l·∫°i tr·∫°ng th√°i ban ƒë·∫ßu
  document.getElementById("giftText").style.display = "block";
  document.getElementById("giftGallery").style.display = "none";
};

</script>

</body>
</html>
